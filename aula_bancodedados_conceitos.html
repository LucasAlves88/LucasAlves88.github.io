<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Aula Interativa de Banco de Dados - Senac SP</title>
    <style>
        :root {
            --senac-blue: #005BAC;
            --senac-orange: #f58220;
            --senac-gray-dark: #333333;
            --senac-gray-light: #f0f0f0;
            --senac-white: #ffffff;
            --senac-border: #cccccc;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background: var(--senac-gray-light);
            color: var(--senac-gray-dark);
        }

        header {
            background-color: var(--senac-blue);
            color: white;
            padding: 1rem;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            user-select: none;
        }

        nav {
            display: flex;
            background-color: var(--senac-white);
            border-bottom: 2px solid var(--senac-border);
            flex-wrap: wrap;
        }

        nav button {
            flex-grow: 1;
            padding: 1rem;
            border: none;
            background: var(--senac-white);
            color: var(--senac-gray-dark);
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            border-bottom: 3px solid transparent;
            user-select: none;
            min-width: 120px;
        }

        nav button:hover,
        nav button.active {
            background-color: var(--senac-orange);
            color: var(--senac-white);
            border-bottom: 3px solid var(--senac-blue);
        }

        main {
            padding: 2rem;
            max-width: 1100px;
            margin: auto;
            background-color: var(--senac-white);
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            min-height: 600px;
        }

        section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        section.active {
            display: block;
        }
        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }

        h2 {
            color: var(--senac-blue);
            border-bottom: 2px solid var(--senac-orange);
            padding-bottom: 0.3rem;
        }
        h3 {
            margin-top: 1.5rem;
            color: var(--senac-blue);
        }

        ul {
            padding-left: 1.2rem;
            margin-bottom: 1rem;
        }

        .activity {
            margin: 1rem 0 2rem 0;
            padding: 1rem;
            border: 2px solid var(--senac-border);
            border-radius: 6px;
            background-color: #fafafa;
        }

        .feedback {
            margin-top: 0.5rem;
            font-weight: bold;
        }
        .correct { color: green; }
        .incorrect { color: red; }

        img.diagram {
            max-width: 100%;
            height: auto;
            margin-top: 1rem;
            border: 1px solid var(--senac-border);
            border-radius: 4px;
        }

        label { display: block; margin: 0.3rem 0; cursor: pointer; }
        input[type="radio"] { margin-right: 0.5rem; }

        /* Drag and drop */
        .drag-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        .draggable-item, .draggable {
            padding: 0.5rem 1rem;
            background-color: var(--senac-blue);
            color: white;
            border-radius: 5px;
            cursor: grab;
            user-select: none;
            margin-bottom: 5px;
        }
        .drop-target, .dropzone {
            min-width: 110px;
            min-height: 60px;
            border: 2px dashed var(--senac-blue);
            border-radius: 5px;
            padding: 0.4rem;
            text-align: center;
            font-style: italic;
            color: var(--senac-gray-dark);
            overflow-y: auto;
        }
        .drop-target { background: #f7fbff; }
        .dropzone { background: #f8fcfa; }

        input[type="text"] {
            padding: 0.4rem;
            font-size: 1rem;
            border: 1px solid var(--senac-border);
            border-radius: 4px;
        }
        hr {
            border: 1px solid var(--senac-border);
            margin: 2rem 0;
        }

        footer {
            text-align: center;
            padding: 1rem;
            background-color: var(--senac-blue);
            color: white;
            margin-top: 2rem;
            border-radius: 0 0 8px 8px;
            user-select: none;
        }
    </style>
</head>
<body>
    <header>Aula Interativa: Banco de Dados - Senac SP</header>
    <nav id="tabs">
        <button class="tab-button active" data-tab="tab1">Modelagem de Dados</button>
        <button class="tab-button" data-tab="tab2">PK / FK</button>
        <button class="tab-button" data-tab="tab6">Tabelas Associativas</button>
    </nav>

    <main>

        <!-- ========================================
            MODELAGEM DE DADOS
        ========================================= -->
        <section id="tab1" class="active">
            <h2>Modelagem de Dados</h2>
            <h3>Exemplo prático: Instituição Escolar — Entidade Aluno</h3>
            <ul>
                <li>id_aluno (chave primária)</li>
                <li>nome</li>
                <li>data_nascimento</li>
                <li>cpf</li>
                <li>telefone</li>
                <li>email</li>
            </ul>
            <!-- EXERCÍCIO DRAG&DROP -->
            <div class="activity">
                <p><b>Exercício Interativo - Instituição Escolar</b></p>
                <p>Distribua os atributos abaixo entre as entidades <b>Curso</b> e <b>Matrícula</b>.</p>
                <div style="display: flex; gap: 2rem; margin-bottom: 1rem;">
                    <div style="flex: 1">
                        <h4>Curso</h4>
                        <div id="drop-curso" class="drop-target" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
                    </div>
                    <div style="flex: 1">
                        <h4>Matrícula</h4>
                        <div id="drop-matricula" class="drop-target" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
                    </div>
                </div>
                <div style="border: 2px dashed var(--senac-blue); border-radius:6px; padding: 1rem;">
                <h4>Atributos para distribuir</h4>
                <div id="drag-container" class="drag-container">
                    <div id="attr-id_curso" class="draggable-item" draggable="true" ondragstart="drag(event)">id_curso</div>
                    <div id="attr-nome_curso" class="draggable-item" draggable="true" ondragstart="drag(event)">nome_curso</div>
                    <div id="attr-duracao_meses" class="draggable-item" draggable="true" ondragstart="drag(event)">duracao_meses</div>
                    <div id="attr-categoria" class="draggable-item" draggable="true" ondragstart="drag(event)">categoria</div>
                    <div id="attr-id_matricula" class="draggable-item" draggable="true" ondragstart="drag(event)">id_matricula</div>
                    <div id="attr-id_aluno_fk" class="draggable-item" draggable="true" ondragstart="drag(event)">id_aluno (FK)</div>
                    <div id="attr-id_curso_fk" class="draggable-item" draggable="true" ondragstart="drag(event)">id_curso (FK)</div>
                    <div id="attr-data_matricula" class="draggable-item" draggable="true" ondragstart="drag(event)">data_matricula</div>
                    <div id="attr-situacao" class="draggable-item" draggable="true" ondragstart="drag(event)">situacao</div>
                </div>
                </div>
                <button onclick="checkModelagemDados()">Verificar Resposta</button>
                <div class="feedback" id="feedback-modelagem"></div>
            </div>
        </section>

        <!-- ========================================
            PK/FK
        ========================================= -->
        <section id="tab2">
            <h2>Chave Primária e Chave Estrangeira</h2>
            <p><strong>Chave Primária (PK)</strong> é um atributo ou conjunto de atributos que identificam única e exclusivamente um registro em uma tabela.</p>
            <p><strong>Chave Estrangeira (FK)</strong> é um atributo em uma tabela que referencia a chave primária de outra tabela.</p>
            <ul>
                <li>Garantem a unicidade dos dados e a integridade referencial;</li>
                <li>Permitem modelar relacionamentos entre tabelas;</li>
            </ul>

            <!-- Atividade 1 -->
            <div class="activity">
                <p><b>Qual campo seria uma boa Chave Primária para a tabela "Cliente"?</b></p>
                <label><input type="radio" name="pk1" value="correct"> CPF</label>
                <label><input type="radio" name="pk1" value="incorrect"> Nome</label>
                <label><input type="radio" name="pk1" value="incorrect"> Endereço</label>
                <button onclick="checkAnswer('pk1', 'feedback-pk1')">Responder</button>
                <div id="feedback-pk1" class="feedback"></div>
            </div>

            <!-- Atividade 2 -->
            <div class="activity">
                <p><b>Para que serve uma Chave Estrangeira?</b></p>
                <label><input type="radio" name="fk1" value="correct"> Relacionar dados entre duas tabelas</label>
                <label><input type="radio" name="fk1" value="incorrect"> Identificar registros unicamente</label>
                <label><input type="radio" name="fk1" value="incorrect"> Armazenar dados duplicados</label>
                <button onclick="checkAnswer('fk1', 'feedback-fk1')">Responder</button>
                <div id="feedback-fk1" class="feedback"></div>
            </div>
        </section>

        <!-- ========================================
            TABELAS ASSOCIATIVAS
        ========================================= -->
        <section id="tab6">
            <h2>Tabelas Associativas</h2>

            <p>Em bancos de dados relacionais, as <strong>tabelas associativas</strong> resolvem <strong>relacionamentos muitos-para-muitos (N:N)</strong>. Servem como ponte entre entidades e permitem armazenar associações entre registros dessas entidades.</p>

            <h3>Exemplos práticos</h3>
            <ul>
                <li><strong>Escola:</strong> Aluno, Curso, <em>Matrícula</em></li>
                <li><strong>E-commerce:</strong> Pedido, Produto, <em>ItensPedido</em></li>
                <li><strong>Biblioteca:</strong> Livro, Autor, <em>LivroAutor</em></li>
                <li><strong>Academia:</strong> Aluno, Treino, <em>PlanoTreino</em></li>
                <li><strong>Cinema:</strong> Filme, Sessão, <em>Exibição</em></li>
            </ul>
            <hr>
            <div class="activity">
                <p><b>Exercício 1 - O que é uma tabela associativa?</b></p>
                <label><input type="radio" name="qta1" value="correct"> Uma tabela que resolve relacionamento N:N entre duas entidades</label>
                <label><input type="radio" name="qta1" value="incorrect"> Uma tabela que tem apenas chave primária simples</label>
                <label><input type="radio" name="qta1" value="incorrect"> Uma tabela que só armazena dados de um único registro</label>
                <button onclick="checkAnswer('qta1', 'feedback-qta1')">Responder</button>
                <div class="feedback" id="feedback-qta1"></div>
            </div>

            <hr>
            <div class="activity">
                <p><b>Exercício 2 - Nomeie a tabela associativa para o cenário:</b></p>
                <p>Em um sistema escolar, as entidades são: Aluno e Curso. Qual o nome e as chaves primárias da tabela que relaciona alunos com cursos?</p>
                <input type="text" id="input_ta2_nome" placeholder="Nome (ex: matricula)" style="width: 60%; padding:0.4rem;" />
                <input type="text" id="input_ta2_chaves" placeholder="Chaves primárias (ex: id_aluno, id_curso)" style="width: 60%; padding:0.4rem; margin-top:0.5rem;" />
                <button onclick="checkExercicio2()">Verificar</button>
                <div class="feedback" id="feedback-ta2"></div>
            </div>

            <hr>
            <div class="activity">
                <p><b>Exercício 3 - Arraste os atributos para as tabelas corretas:</b></p>
                <p>Entidades: Pedido, Produto e tabela associativa ItensPedido</p>
                <div style="display: flex; gap: 2rem; margin-bottom: 1rem;">
                  <div style="flex: 1">
                    <h4>Pedido</h4>
                    <div id="drop-pedido-ta3" class="drop-target dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
                  </div>
                  <div style="flex: 1">
                    <h4>Produto</h4>
                    <div id="drop-produto-ta3" class="drop-target dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
                  </div>
                  <div style="flex: 1">
                    <h4>ItensPedido (Tabela Associativa)</h4>
                    <div id="drop-itenspedido-ta3" class="drop-target dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
                  </div>
                </div>
                <div style="border: 2px dashed var(--senac-blue); border-radius:6px; padding: 1rem;">
                  <h4>Atributos para distribuir</h4>
                  <div id="drag-container-ta3" class="drag-container">
                    <div id="attr-id_pedido" class="draggable-item" draggable="true" ondragstart="drag(event)">id_pedido</div>
                    <div id="attr-data_pedido" class="draggable-item" draggable="true" ondragstart="drag(event)">data_pedido</div>
                    <div id="attr-id_produto" class="draggable-item" draggable="true" ondragstart="drag(event)">id_produto</div>
                    <div id="attr-nome_produto" class="draggable-item" draggable="true" ondragstart="drag(event)">nome_produto</div>
                    <div id="attr-id_pedido_fk" class="draggable-item" draggable="true" ondragstart="drag(event)">id_pedido (FK)</div>
                    <div id="attr-id_produto_fk" class="draggable-item" draggable="true" ondragstart="drag(event)">id_produto (FK)</div>
                    <div id="attr-quantidade" class="draggable-item" draggable="true" ondragstart="drag(event)">quantidade</div>
                  </div>
                </div>
                <button onclick="checkExercicio3()">Verificar Resposta</button>
                <div class="feedback" id="feedback-ta3"></div>
            </div>

            <hr>
            <div class="activity">
                <p><b>Exercício 4 - Verdadeiro ou Falso:</b></p>
                <p>Uma tabela associativa sempre possui chave primária composta pelas chaves estrangeiras das entidades relacionadas.</p>
                <label><input type="radio" name="qta4" value="correct"> Verdadeiro</label>
                <label><input type="radio" name="qta4" value="incorrect"> Falso</label>
                <button onclick="checkAnswer('qta4', 'feedback-qta4')">Responder</button>
                <div class="feedback" id="feedback-qta4"></div>
            </div>

            <hr>
            <div class="activity">
                <p><b>Exercício 5 - Qual das opções abaixo representa melhor o propósito das tabelas associativas?</b></p>
                <label><input type="radio" name="qta5" value="incorrect"> Armazenar dados redundantes entre entidades</label>
                <label><input type="radio" name="qta5" value="correct"> Resolver relacionamentos muitos-para-muitos</label>
                <label><input type="radio" name="qta5" value="incorrect"> Substituir as tabelas principais do banco</label>
                <button onclick="checkAnswer('qta5', 'feedback-qta5')">Responder</button>
                <div class="feedback" id="feedback-qta5"></div>
            </div>

            <hr>
            <div class="activity">
                <p><b>Exercício 6 - Complete a frase:</b></p>
                <p>
                  A tabela associativa <input type="text" id="input-ta6" placeholder="Digite aqui o nome da tabela associativa" style="width: 40%; padding: 0.4rem;" />
                  tem como chave primária composta as colunas <input type="text" id="input-ta6-keys" placeholder="Digite as chaves primárias" style="width: 50%; padding: 0.4rem; margin-top: 0.5rem;" />
                </p>
                <button onclick="checkExercicio6()">Verificar</button>
                <div class="feedback" id="feedback-ta6"></div>
            </div>

            <!-- Exercícios avançados medianos ... -->
            <hr>
            <div class="activity">
                <p><b>Desafio 7 - Modelo escolar:</b></p>
                <p>No modelo: Aluno, Turma, Curso, Professor, Matéria, Matrícula.<br>
                Como ficaria a tabela associativa que registra qual aluno está em qual turma, de qual curso? (nome e chaves)</p>
                <input type="text" id="desafio7_nome" placeholder="Nome da tabela associativa" style="width: 50%; padding: 0.4rem;">
                <input type="text" id="desafio7_chaves" placeholder="Chaves primárias" style="width: 45%; padding: 0.4rem;">
                <button onclick="checkDesafio7()">Verificar</button>
                <div class="feedback" id="feedback-d7"></div>
            </div>

            <hr>
            <div class="activity">
                <p><b>Desafio 8 - Drag & Drop Avançado:</b></p>
                <p>Restaurante: Cliente, Pedido, Prato, Ingrediente, PedidoPrato, PratoIngrediente.<br>Arraste os atributos para os blocos corretos:</p>
                <div style="display: flex; flex-wrap: wrap; gap: 15px;">
                  <div class="dropzone" id="drop-d8-cliente">Cliente</div>
                  <div class="dropzone" id="drop-d8-pedido">Pedido</div>
                  <div class="dropzone" id="drop-d8-prato">Prato</div>
                  <div class="dropzone" id="drop-d8-ingrediente">Ingrediente</div>
                  <div class="dropzone" id="drop-d8-pedidoprato">PedidoPrato (associativa)</div>
                  <div class="dropzone" id="drop-d8-pratoingrediente">PratoIngrediente (associativa)</div>
                </div>
                <div class="drag-container" id="drag-d8">
                  <div class="draggable-item" id="attr-d8-clienteid" draggable="true" ondragstart="drag(event)">id_cliente</div>
                  <div class="draggable-item" id="attr-d8-clientenome" draggable="true" ondragstart="drag(event)">nome_cliente</div>
                  <div class="draggable-item" id="attr-d8-pedidoid" draggable="true" ondragstart="drag(event)">id_pedido</div>
                  <div class="draggable-item" id="attr-d8-pedidodata" draggable="true" ondragstart="drag(event)">data_pedido</div>
                  <div class="draggable-item" id="attr-d8-pratoid" draggable="true" ondragstart="drag(event)">id_prato</div>
                  <div class="draggable-item" id="attr-d8-pratonome" draggable="true" ondragstart="drag(event)">nome_prato</div>
                  <div class="draggable-item" id="attr-d8-ingredienteid" draggable="true" ondragstart="drag(event)">id_ingrediente</div>
                  <div class="draggable-item" id="attr-d8-ingredientenome" draggable="true" ondragstart="drag(event)">nome_ingrediente</div>
                  <div class="draggable-item" id="attr-d8-pedidoprato_pedido" draggable="true" ondragstart="drag(event)">id_pedido (FK)</div>
                  <div class="draggable-item" id="attr-d8-pedidoprato_prato" draggable="true" ondragstart="drag(event)">id_prato (FK)</div>
                  <div class="draggable-item" id="attr-d8-pratoingrediente_prato" draggable="true" ondragstart="drag(event)">id_prato (FK)</div>
                  <div class="draggable-item" id="attr-d8-pratoingrediente_ing" draggable="true" ondragstart="drag(event)">id_ingrediente (FK)</div>
                </div>
                <button onclick="checkDesafio8()">Verificar Resposta</button>
                <div class="feedback" id="feedback-d8"></div>
            </div>
        </section>
    </main>
    <footer>
        Desenvolvido para Senac SP - Aula Interativa de Banco de Dados
    </footer>
    <script>
    // --------- NAVEGAÇÃO
    const tabs = document.querySelectorAll('.tab-button');
    const sections = document.querySelectorAll('section');
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            sections.forEach(s => s.classList.remove('active'));
            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).classList.add('active');
            localStorage.setItem('activeTab', tab.dataset.tab);
        });
    });
    document.addEventListener('DOMContentLoaded', function() {
        const activeTab = localStorage.getItem('activeTab');
        if(activeTab) {
            const btn = document.querySelector(`button[data-tab="${activeTab}"]`);
            if(btn) btn.click();
        }
    });

    // --------- UNIVERSAL DRAG&DROP
    function allowDrop(ev) { ev.preventDefault(); }
    function drag(ev) { ev.dataTransfer.setData('text', ev.target.id); }
    function drop(ev) {
        ev.preventDefault();
        let id = ev.dataTransfer.getData('text');
        let dragged = document.getElementById(id);
        let target = ev.target;
        while (target && !(target.classList && (target.classList.contains('drop-target') || target.classList.contains('dropzone')))) {
            target = target.parentElement;
        }
        if(target && !target.contains(dragged)) {
            target.appendChild(dragged);
        }
    }
    function checkContainerAttributes(container, expectedIds) {
      if (!container || container.children.length !== expectedIds.length) {
        return false;
      }
      for (const id of expectedIds) {
        if (!container.querySelector(`#${id}`)) return false;
      }
      return true;
    }

    // --------- FEEDBACK MÚLTIPLA ESCOLHA UNIVERSAL
    function checkAnswer(groupName, feedbackId) {
      let options = document.getElementsByName(groupName);
      let feedback;
      if (feedbackId.startsWith('feedback-')) feedback = document.getElementById(feedbackId);
      else feedback = document.getElementById('feedback-' + feedbackId) || document.getElementById(feedbackId);
      let selected = false, correct = false;
      for (let o of options) if(o.checked) { selected = true; correct = o.value==='correct'; break;}
      if(!selected) {
        feedback.textContent = 'Por favor, selecione uma opção.'; feedback.className = 'feedback incorrect';
        return;
      }
      if(correct) {
        feedback.textContent = 'Resposta correta!'; feedback.className = 'feedback correct';
      } else {
        feedback.textContent = 'Resposta incorreta, tente novamente.'; feedback.className = 'feedback incorrect';
      }
    }

    // --------- EXERCÍCIO: Modelagem de Dados
    function checkModelagemDados() {
        const feedback = document.getElementById('feedback-modelagem');
        const cursoDrop = document.getElementById('drop-curso');
        const matriculaDrop = document.getElementById('drop-matricula');
        const cursoAttrs = ['attr-id_curso', 'attr-nome_curso', 'attr-duracao_meses', 'attr-categoria'];
        const matriculaAttrs = ['attr-id_matricula', 'attr-id_aluno_fk', 'attr-id_curso_fk', 'attr-data_matricula', 'attr-situacao'];
        const cursoOk = checkContainerAttributes(cursoDrop, cursoAttrs);
        const matriculaOk = checkContainerAttributes(matriculaDrop, matriculaAttrs);

        if(cursoOk && matriculaOk) {
            feedback.textContent = "Parabéns! Você distribuiu todos os atributos corretamente.";
            feedback.className = 'feedback correct';
        } else {
            feedback.textContent = "Há atributos fora do lugar. Verifique as entidades Curso e Matrícula.";
            feedback.className = 'feedback incorrect';
        }
    }

    // --------- TABELAS ASSOCIATIVAS Exercícios
    function checkExercicio2() {
      const nome = document.getElementById('input_ta2_nome').value.trim().toLowerCase();
      const chavesRaw = document.getElementById('input_ta2_chaves').value.trim().toLowerCase();
      const chaves = chavesRaw.split(',').map(k => k.trim());
      const feedback = document.getElementById('feedback-ta2');
      const nomeCorreto = 'matricula';
      const chavesCorretas = ['id_aluno', 'id_curso'];
      if (nome === nomeCorreto && chavesCorretas.every(c => chaves.includes(c)) && chaves.length === chavesCorretas.length) {
        feedback.textContent = 'Muito bem! Nome e chaves corretas.';
        feedback.className = 'feedback correct';
      } else {
        feedback.textContent = 'Nome ou chaves incorretas. Reavalie.';
        feedback.className = 'feedback incorrect';
      }
    }

    function checkExercicio3() {
      const feedback = document.getElementById('feedback-ta3');
      const expected = {
        'drop-pedido-ta3': ['attr-id_pedido', 'attr-data_pedido'],
        'drop-produto-ta3': ['attr-id_produto', 'attr-nome_produto'],
        'drop-itenspedido-ta3': ['attr-id_pedido_fk', 'attr-id_produto_fk', 'attr-quantidade']
      };
      for (const containerId in expected) {
        const container = document.getElementById(containerId);
        if (!checkContainerAttributes(container, expected[containerId])) {
          feedback.textContent = 'Algum campo está errado ou faltando.';
          feedback.className = 'feedback incorrect';
          return;
        }
      }
      feedback.textContent = 'Parabéns! Todos os campos estão corretos.';
      feedback.className = 'feedback correct';
    }

    function checkExercicio6() {
        const nomeTabela = document.getElementById('input-ta6').value.trim().toLowerCase();
        const chavesStr = document.getElementById('input-ta6-keys').value.trim().toLowerCase();
        const tabelas = [
            {nome: 'matricula', chaves: ['id_aluno', 'id_curso']},
            {nome: 'itenspedido', chaves: ['id_pedido', 'id_produto']}
        ];
        let acertou = false;
        for(const tab of tabelas) {
            let preenchidas = tab.chaves.every(c => chavesStr.replace(/\s/g,'').split(',').includes(c));
            if(nomeTabela === tab.nome && preenchidas) {
                acertou = true; break;
            }
        }
        const feedback = document.getElementById('feedback-ta6');
        if(acertou) {
            feedback.textContent = 'Resposta correta! Você entende bem as tabelas associativas.';
            feedback.className = 'feedback correct';
        } else {
            feedback.textContent = 'Resposta incorreta. Use exemplos da explicação acima.';
            feedback.className = 'feedback incorrect';
        }
    }

    function checkDesafio7() {
      const nome = document.getElementById('desafio7_nome').value.trim().toLowerCase();
      const chavesRaw = document.getElementById('desafio7_chaves').value.trim().toLowerCase();
      const chaves = chavesRaw.split(',').map(k=>k.trim());
      const feedback = document.getElementById('feedback-d7');
      const correctKeys = ['id_aluno','id_curso','id_turma'];
      if (nome === 'matricula' && correctKeys.every(k=>chaves.includes(k)) && chaves.length===3) {
          feedback.textContent = 'Correto! Matrícula (id_aluno + id_curso + id_turma).';
          feedback.className = 'feedback correct';
      } else {
          feedback.textContent = 'Confira o nome e as chaves.';
          feedback.className = 'feedback incorrect';
      }
    }

    function checkDesafio8() {
      let feedback = document.getElementById('feedback-d8');
      const expected = {
        'drop-d8-cliente': ['attr-d8-clienteid', 'attr-d8-clientenome'],
        'drop-d8-pedido': ['attr-d8-pedidoid', 'attr-d8-pedidodata'],
        'drop-d8-prato': ['attr-d8-pratoid', 'attr-d8-pratonome'],
        'drop-d8-ingrediente': ['attr-d8-ingredienteid', 'attr-d8-ingredientenome'],
        'drop-d8-pedidoprato': ['attr-d8-pedidoprato_pedido', 'attr-d8-pedidoprato_prato'],
        'drop-d8-pratoingrediente': ['attr-d8-pratoingrediente_prato', 'attr-d8-pratoingrediente_ing']
      };
      for (let dz in expected) {
        let box = document.getElementById(dz);
        if (!box || box.children.length !== expected[dz].length) {
          feedback.textContent = "Revise sua distribuição nos blocos.";
          feedback.className = "feedback incorrect";
          return;
        }
        for (let id of expected[dz]) {
          if (!box.querySelector(`#${id}`)) {
            feedback.textContent = "Campo(s) incorreto(s) em algum bloco.";
            feedback.className = "feedback incorrect";
            return;
          }
        }
      }
      feedback.textContent = "Tudo certo! Parabéns.";
      feedback.className = "feedback correct";
    }
    </script>
</body>
</html>




